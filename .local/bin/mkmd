#!/usr/bin/env bash

filename_date=$(date +"%Y%m%d%H%M").md
datetime=$(date +"%Y-%m-%dT%H:%M")

if [ $# -eq 0 ]; then
    filepath="$filename_date"
else
    arg="$1"
    if [[ "$arg" == *.md ]]; then
        filepath="$arg"
    else
        filepath="$arg/$filename_date"
    fi
fi

mkdir -p "$(dirname "$filepath")"

cat <<EOF > "$filepath"
---
date: $datetime
tags: []
---

EOF

echo "Created $filepath"
